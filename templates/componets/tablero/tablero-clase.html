{% load static %}


<link rel="stylesheet" href='{% static "quill/quill.snow.css" %}'>
<link rel="stylesheet" href='{% static "quill/quill.bubble.css" %}'>

<section>
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="publicar shadow-sm p-3 mb-5 bg-body-tertiary rounded">
                    <div class="accordion" id="accordionExample">
                        <div class="accordion-item">
                          <h2 class="accordion-header" id="headingThree">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                              Anuncia algo a tu clase
                            </button>
                          </h2>
                          <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
                            <div class="accordion-body">
                                <div id="editor">
                                </div>
                                

                                <form action="" method="post" role="form" class="mt-4">
                                    {% csrf_token %}
                                    <!-- <input type='hidden' name='editor' id='hidden-input' > -->
                                    {{ formAnnouncement.class_name }}
                                    <div class="text-right">
                                        <button class="btn btn-outline-secondary" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                            Cancelar
                                          </button>
                                        <button type="submit" class="btn btn-primary">Submit</button>
                                   </div>
                                </form>
                                
                                
                                <!-- </div> -->

                                <!-- Include the Quill library -->
                                <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>

                                <!-- Initialize Quill editor -->
                                <script>
                                var quill = new Quill('#editor', {
                                    theme: 'snow'
                                });

                                let inputElement = document.getElementById('hidden-input');

                                quill.on('text-change', function() {
                            
                                inputElement.value = quill.getContents().ops[0].insert;

                                });

                                </script>


                            </div>
                          </div>
                        </div>
                      </div>
                </div>

                {% for anuncio in anuncios %}
                    <a href="">
                        <div class="anuncios p-3 mb-5 rounded">
                            <p>{{ anuncio.announcement_username }} ha publicado: {{ anuncio.announcement_text }}</p>
                        </div>
                    </a>
                    
                {% endfor %}
                
            </div>
        </div>
    </div>
</section>


